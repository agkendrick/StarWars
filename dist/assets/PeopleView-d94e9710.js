import{d,o as n,c as a,F as m,r as N,a as v,t as f,b,e as P,f as c,w as I,u as L,R as B,g as F,h as p}from"./index-ef617f6b.js";import{u as S}from"./people-298fd2a7.js";import{g as R}from"./helpers-04187a77.js";const T=d({__name:"ListItem",props:{item:{},displayNames:{}},setup(r){const t=r;return(e,o)=>(n(),a("ul",null,[(n(!0),a(m,null,N(t.displayNames,(l,u)=>(n(),a("li",null,[v("b",null,f(l)+": ",1),b(f(e.item[u]),1)]))),256))]))}}),A=d({__name:"PagedList",props:{listItems:{},displayNames:{},next:{},previous:{}},emits:["loadPage"],setup(r){const t=r;return(e,o)=>(n(),a(m,null,[(n(!0),a(m,null,N(t.listItems,l=>(n(),a("div",null,[c(L(B),{to:l.link},{default:I(()=>[c(T,{"display-names":t.displayNames,item:l},null,8,["display-names","item"])]),_:2},1032,["to"])]))),256)),v("div",null,[e.previous?(n(),a("button",{key:0,onClick:o[0]||(o[0]=l=>e.$emit("loadPage",e.previous))},"Previous")):P("",!0),e.next?(n(),a("button",{key:1,onClick:o[1]||(o[1]=l=>e.$emit("loadPage",e.next))},"Next")):P("",!0)])],64))}}),D=v("h1",null,"This is the people view",-1),Y=d({__name:"PeopleView",async setup(r){let t,e;const{getPeople:o}=S(),l=([t,e]=F(()=>o()),t=await t,e(),t),{results:u,next:x,previous:k}=l,C={name:"Name",gender:"Gender",birth_year:"Birth Year",vehicleCount:"Starship/Vehicle Count"},g=p(y(u)),_=p(x),h=p(k);function y(i){return i.map(s=>(s.vehicleCount=s.vehicles.length+s.starships.length,s.link=`/people/${R(s.url)}`,s))}async function w(i){const{results:s,next:$,previous:V}=await o(i);g.value=y(s),_.value=$,h.value=V}return(i,s)=>(n(),a("div",null,[D,c(A,{onLoadPage:w,"list-items":g.value,next:_.value,previous:h.value,"display-names":C},null,8,["list-items","next","previous"])]))}});export{Y as default};
